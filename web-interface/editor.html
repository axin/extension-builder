<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />

    <title>Extension-Builder - Editor</title>

    <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css" />
    <script src="lib/bootstrap/js/bootstrap.min.js" defer></script>

    <style type="text/css" media="screen">
        body {
            overflow: hidden;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <div class="navbar navbar-fixed-top">
            <a class="brand" href="#">
                Extension-Builder
            </a>

            <div class="navbar-inner">
                <div class="container">
                    <a class="btn" href="#">Список расширений</a>
                    <a class="btn" href="#">Загрузить расширение</a>
                    <a class="btn" href="#">Загрузить исходный код</a>
                    <a class="btn btn-success" href="#">Сохранить</a>
                </div>
            </div>
        </div>

        <div class="row-fluid" style="margin-top: 40px;">
            <div class="span2">
                <ul class="nav nav-list" style="padding: 0px; margin: 0px;">
                    <li class="nav-header">
                        Ace-Textarea
                    </li>
                    <li>
                        <a href="#">Alexey Sazikin.snk</a>
                    </li>
                    <li>
                        <a href="#">build.bat</a>
                    </li>
                    <li class="active">
                        <a href="#">content-script.js</a>
                    </li>
                    <li>
                        <a href="#">keys.json</a>
                    </li>
                    <li>
                        <a href="#">manifest.json</a>
                    </li>
                </ul>
            </div>
            <div class="span10" style="padding: 0px; margin: 0px;">
                <pre id="editor" style="width: 100%; height: 100%; padding: 0px; margin: 0px;">
(function inject(callback) {
    var baseUrl="http://ajaxorg.github.com/ace/build/textarea/src/";

    var load = window.__ace_loader__ = function (path, module, callback) {
        var head = document.getElementsByTagName("head")[0];
        var s = document.createElement("script");

        s.src = baseUrl + path;head.appendChild(s);
        s.onload = function () {
            window.__ace_shadowed__.require([module], callback);
        };
    };

    load("ace-bookmarklet.js", "ace/ext/textarea", function () {
        var ace = window.__ace_shadowed__;
        ace.options = {
            mode:'javascript',
            theme:'textmate',
            gutter:'false',
            fontSize:'12px',
            softWrap:'off',
            showPrintMargin:'false',
            useSoftTabs:'true',
            showInvisibles:'true'
        };

        var Event = ace.require("ace/lib/event");
        var areas = document.getElementsByTagName("textarea");

        for (var i = 0; i < areas.length; i++) {
            Event.addListener(areas[i], "click", function (e) {
                if (e.detail == 3) {
                    ace.transformTextarea(e.target, load);
                }
            });
        }
        callback();
    });
})();

                </pre>
            </div>
        </div>
    </div>

    <script src="lib/ace/src/ace.js"></script>
    <script src="lib/ace/src/theme-twilight.js"></script>
    <script src="lib/ace/src/mode-javascript.js"></script>

    <script>
        window.onload = function() {
            var editor = ace.edit("editor");
            editor.setTheme("ace/theme/twilight");

            var JavaScriptMode = require("ace/mode/javascript").Mode;
            editor.getSession().setMode(new JavaScriptMode());
        };
    </script>
</body>

</html>
